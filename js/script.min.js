"use strict";document.addEventListener("DOMContentLoaded",(function(e){var t=document.querySelector(".mobile-menu"),a=document.querySelector(".burger"),r=document.querySelector(".mobile-menu__overlay"),o=document.querySelector(".mobile-menu__close");if(t){var n=function(){t.classList.toggle("show"),document.body.classList.toggle("no-scroll"),r.classList.toggle("show")};a.addEventListener("click",n),r.addEventListener("click",n),o.addEventListener("click",n)}var s=document.querySelectorAll(".team-news");s.length&&s.forEach((function(e){new Swiper(e,{breakpoints:{320:{slidesPerView:2.8,spaceBetween:0},375:{slidesPerView:3,spaceBetween:0},416:{slidesPerView:3.5,spaceBetween:0},576:{slidesPerView:4.5,spaceBetween:0},768:{slidesPerView:6,spaceBetween:16},992:{slidesPerView:3.5,spaceBetween:16},1161:{slidesPerView:4,spaceBetween:16},1240:{slidesPerView:5.5,spaceBetween:16}}})}));var i=document.querySelector(".cards__container");if(i)new Swiper(i,{slidesPerView:2.4,spaceBetween:24,breakpoints:{407:{slidesPerView:3,spaceBetween:24},540:{slidesPerView:4,spaceBetween:24},700:{slidesPerView:5,spaceBetween:24},992:{slidesPerView:3,spaceBetween:24},1050:{slidesPerView:3.5,spaceBetween:24},1187:{slidesPerView:4.5,spaceBetween:24}}});var c=document.querySelector(".modal-overlay"),l=document.querySelector(".modal-overlay--sign-in"),d=document.querySelector("[js-sign-btn]"),u=document.querySelector("[js-sign-up-btn]"),v=document.querySelector(".modal-overlay--sign-up");function m(e){e.addEventListener("click",(function(t){(t.target===e||t.target.closest(".modal__close")||t.target.classList.contains("form__btn"))&&(t.target.classList.contains("form__btn")&&t.preventDefault(),e.querySelector(".modal").classList.remove("active"),setTimeout((function(){e.classList.remove("active"),document.body.classList.remove("no-scroll")}),300))}))}c&&(m(c),c.classList.contains("active")?document.body.classList.add("no-scroll"):document.body.classList.remove("no-scroll")),d&&l&&(d.addEventListener("click",(function(e){l.classList.add("active");var t=l.querySelector("#modal-sign_in");setTimeout((function(){t.classList.add("active")}),300),document.body.classList.add("no-scroll")})),m(l)),u&&v&&(u.addEventListener("click",(function(e){v.classList.add("active");var t=v.querySelector("#modal-sign_up");setTimeout((function(){t.classList.add("active")}),300),document.body.classList.add("no-scroll")})),m(v));var g={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return g.Android()||g.BlackBerry()||g.iOS()||g.Opera()||g.Windows()}};g.any()?document.body.classList.add("isMobile"):document.body.classList.remove("isMobile");var p=document.querySelectorAll(".big-chart"),f=document.querySelector(".chartAreaWrapper");if(p.length){var y=function(e){var t=e.chart.data.datasets;return 0===t[0].data[t[0].data.length-1]?"0":t[0].data[t[0].data.length-1]},h=f.getAttribute("url-icon"),b=function(e){var t=e.chart,a=e.tooltip,r=function(e){var t=e.canvas.parentNode.querySelector("div");if(!t){(t=document.createElement("div")).style.color="#1F1F1F",t.style.opacity=1,t.style.fontFamily="ProximaNova",t.style.fontSize="14px",t.style.pointerEvents="none",t.style.transition="all .1s ease",t.style.width="1444px";var a=document.createElement("div");a.className="graph-values",a.style.margin="0",a.style.display="flex",a.style.justifyContent="center",a.style.alignItems="center",a.style.background="#EEEEEE",a.style.width="180px",a.style.borderRadius="4px",a.style.padding="2px 8px",a.style.position="sticky",a.style.left="50%",a.style.transform="translateX(-50%)",t.appendChild(a),e.canvas.parentNode.appendChild(t)}return t}(t);if(0!==a.opacity){if(a.body){var o=a.title||[],n=a.body.map((function(e){return e.lines})),s=document.createElement("div");s.className="date",s.style.paddingRight="16px",o.forEach((function(e){var t=document.createElement("span"),a=document.createTextNode(e);a.textContent.split(" ");t.appendChild(a),s.appendChild(t)}));var i=document.createElement("div");i.className="values",i.style.borderLeft="1px solid #E2E2E2",i.style.paddingLeft="16px",n.forEach((function(e,t){var a=document.createElement("img");a.src=h,a.style.marginTop="-1px",a.style.marginLeft="5px";var r=document.createElement("span"),o=document.createTextNode(e);r.appendChild(o),r.appendChild(a),i.appendChild(r)}));for(var c=r.querySelector("div.graph-values");c.firstChild;)c.firstChild.remove();c.appendChild(s),c.appendChild(i)}r.style.opacity=1,r.style.position="absolute",r.style.top=0}else r.style.opacity=0},L=[];L=f&&f.dataset.zero?[0,0,0,0,0,0,0,0,0,0,0]:[5e4,3e3,2e3,4e3,1e4,3e3,77280,22800,22800,22008,54e3];var _=["1 апр 21","15 апр 21","1 мая 21","1 мая 21","1 мая 21","1 мая 21","15 мая 21","1 июня 21","1 июня 21","1 июня 21","1 июня 21"];!function(){if(f){var e=L.length;f.style.width=100*e+"pt"}}(),p.forEach((function(e){new Chart(e,{type:"line",data:{labels:_,datasets:[{label:!1,data:L,backgroundColor:"rgba(255, 255, 255, 1)",borderColor:"rgba(0, 0, 0, 1)",borderWidth:2,pointBorderWidth:2,pointRadius:3,pointHoverRadius:6,pointHoverBorderWidth:2.5,pointHoverBorderColor:"#fff",pointHoverBackgroundColor:"#000",tension:0,datalabels:{align:"top",anchor:"start"}}]},options:{responsive:!0,aspectRatio:!1,layout:{padding:{right:105}},scales:{x:{backgroundColor:"#fff",ticks:{font:{size:12},showLabelBackdrop:!0,color:"#AFAFAF",major:!0,padding:10,offset:!0},grid:{display:!1}},y:{backgroundColor:"#fff",grid:{display:!1}}},interaction:{mode:"point"},plugins:{tooltip:{enabled:!1,position:"nearest",external:b},autocolors:!1,legend:{display:!1},annotation:{annotations:{line1:{type:"line",scaleID:"y",id:1,value:y,borderColor:"#AFAFAF",borderWidth:1,borderDash:[2,4],label:{content:y,backgroundColor:"#1F1F1F",enabled:!0,borderRadius:2,xPadding:16,xAdjust:105,position:"end"}}}}}},plugins:[{id:"tooltipeLine",beforeDraw:function(e){if(e.tooltip._active&&e.tooltip._active.length){var t=e.ctx;t.save();var a=e.tooltip._active[0];t.beginPath(),t.moveTo(a.element.x,e.chartArea.top-8),t.lineTo(a.element.x,a.element.y),t.lineWidth=1,t.strokeStyle="#E2E2E2",t.stroke(),t.restore(),t.beginPath(),t.moveTo(a.element.x,a.element.y),t.lineTo(a.element.x,e.chartArea.bottom),t.lineWidth=1,t.strokeStyle="#E2E2E2",t.stroke(),t.restore()}}}]})}))}var w=document.querySelectorAll(".small-chart"),S=document.querySelector(".chartAreaWrapper--small");if(w.length){var E=function(e){var t=e.chart.data.datasets;return t[0].data[t[0].data.length-1]},q=[5e4,3e3,2e3,4e3,1e4,3e3,77280,22800,22800,22008,54e3],A=["1 апр 21","15 апр 21","1 мая 21","1 мая 21","1 мая 21","1 мая 21","15 мая 21","1 июня 21","1 июня 21","1 июня 21","1 июня 21"];!function(){if(S){var e=q.length;S.style.width=27.27*e+"pt"}}(),w.forEach((function(e){new Chart(e,{type:"line",data:{labels:A,datasets:[{label:!1,data:q,backgroundColor:"rgba(255, 255, 255, 1)",borderColor:"rgba(0, 0, 0, 1)",borderWidth:1,pointBorderWidth:1,pointRadius:1,pointHoverRadius:3,pointHoverBorderWidth:2.5,pointHoverBorderColor:"#fff",pointHoverBackgroundColor:"#000",tension:0,datalabels:{align:"top",anchor:"start"}}]},options:{responsive:!0,aspectRatio:!1,layout:{padding:{right:15.43}},scales:{x:{ticks:{display:!1,font:{size:12},showLabelBackdrop:!0,color:"#AFAFAF",major:!0,padding:10,offset:!0},grid:{display:!1}},y:{ticks:{display:!1},grid:{display:!1}}},interaction:{mode:"point"},plugins:{tooltip:{enabled:!1,position:"nearest"},autocolors:!1,legend:{display:!1},annotation:{annotations:{line1:{type:"line",scaleID:"y",id:1,value:E,borderColor:"#AFAFAF",borderWidth:1,borderDash:[2,4]}}}}},plugins:[]})}))}var k=document.querySelectorAll("input.required");if(k.length){k.forEach((function(e){e.addEventListener("input",(function(e){e.target.classList.contains("_card")?function(e){var t=e.closest(".form__group--valid");e.value.length<19?(t.classList.add("valid-cancel"),t.classList.remove("valid-agreed")):(t.classList.add("valid-agreed"),t.classList.remove("valid-cancel"))}(e.target):e.target.classList.contains("_code")?function(e){var t=e.closest(".form__group--valid");e.value.length<6?(t.classList.add("valid-cancel"),t.classList.remove("valid-agreed")):(t.classList.add("valid-agreed"),t.classList.remove("valid-cancel"))}(e.target):e.target.classList.contains("_phone")&&function(e){var t=e.closest(".form__group--valid");e.value.length<18?(t.classList.add("valid-cancel"),t.classList.remove("valid-agreed")):(t.classList.add("valid-agreed"),t.classList.remove("valid-cancel"))}(e.target)}))}))}var x=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/,B=document.querySelectorAll(".form__control--needed-valid");if(B.length){B.forEach((function(e){e.addEventListener("input",(function(e){!function(e){var t=e.closest(".form__group--needed-valid");x.test(e.value)?(t.classList.add("valid-agreed"),t.classList.remove("valid-cancel")):x.test(e.value)||(t.classList.remove("valid-agreed"),t.classList.add("valid-cancel"))}(e.target)}))}))}var C=document.querySelector("[btn-user-show]"),T=document.querySelector(".header-auth__user-wrap-main"),P=document.querySelector(".mobile-accounts"),j=document.querySelector(".mobile-accounts__overlay"),F=document.querySelector(".mobile-accounts__close");if(C){C.addEventListener("click",(function(e){e.currentTarget.classList.contains("more-accounts")&&document.documentElement.clientWidth<575?(document.body.classList.add("no-scroll"),j.classList.add("show"),setTimeout((function(){P.classList.add("active")}),200)):T.classList.toggle("active")})),j&&document.documentElement.clientWidth<575&&(j.addEventListener("click",(function(e){P.classList.remove("active"),setTimeout((function(){j.classList.remove("show")}),200),document.body.classList.remove("no-scroll")})),F.addEventListener("click",(function(e){P.classList.remove("active"),setTimeout((function(){j.classList.remove("show")}),200),document.body.classList.remove("no-scroll")})))}var W=document.querySelectorAll(".sidebar--accordion .sidebar__title:not(.sidebar__title--inside)"),V=document.querySelectorAll(".sidebar__title--inside");if(W.length){var H=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.style.maxHeight?(a&&e.classList.contains("visible")&&(e.style.overflow="hidden"),e.style.maxHeight=null,t.classList.remove("opened")):(a&&e.classList.contains("visible")&&(e.style.overflow="visible"),e.style.maxHeight="100%",t.classList.add("opened"))};W.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var t=e.currentTarget.closest(".sidebar__list-item").querySelector(".sidebar__body-block");t&&H(t,e.currentTarget)}))})),V.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var t=e.currentTarget.closest(".collapsible-accordion");if(t){var a=t.querySelector(".collapsible-accordion__body");H(a,e.currentTarget)}}))}))}var D=document.querySelector(".slots-choice"),R=document.querySelectorAll(".select__header:not(.disabled)"),N=document.querySelectorAll(".select__item"),z=document.querySelectorAll(".select:not(.disabled)");if(R.length){for(var M=function(){$(this.closest(".select").dataset.select),this.closest(".select").classList.toggle("active"),X()},O=function(){var e=this.textContent,t=this.dataset.value,a=this.closest(".select"),r=a.querySelector(".select__current");r.textContent=e,r.dataset.current=t,a.classList.remove("active"),X()},I=0;I<R.length;I++)R[I].addEventListener("click",M);for(var Z=0;Z<N.length;Z++)N[Z].addEventListener("click",O)}function X(){window.innerWidth<=425&&document.querySelectorAll(".select").length&&(document.querySelector(".select.active")?D.style.height=D.scrollHeight+10+"px":D.style.height="50px")}function $(e){for(var t=0;t<z.length;t++)+e!=+z[t].dataset.select&&z[t].classList.remove("active")}var G=document.querySelectorAll("[js-radio]"),J=document.querySelectorAll("[js-mobile-radio]"),K=document.querySelectorAll("[js-desktop-radio]"),Q=document.querySelector(".slots__list:not(.rating__list)");if(G.length&&Q){var U=function(e){"list"===e?Q.classList.remove("blocks"):Q.classList.add("blocks")};G.forEach((function(e){e.addEventListener("click",(function(e){e.target.hasAttribute("js-desktop-radio")?(!function(){for(var e=0;e<K.length;e++)K[e].checked&&(J[e].checked=!0)}(),U(e.target.dataset.view)):(!function(){for(var e=0;e<J.length;e++)J[e].checked&&(K[e].checked=!0)}(),U(e.target.dataset.view))}))}))}var Y=document.querySelectorAll("[js-amount-input]"),ee=document.querySelectorAll("[js-valid-input]");function te(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.length&&e.forEach((function(e){e.addEventListener("input",(function(e){e.target.value=e.target.value.replace(/\D/g,"");var a=e.target.closest(".form").querySelector(".form__btn");if(t&&(e.target.value.length>0&&0!=+e.target.value[0]?a.removeAttribute("disabled"):a.setAttribute("disabled",!0)),e.target.hasAttribute("data-percent")){var r=e.target.closest("form.form").querySelector("[data-price]"),o=+e.target.value,n=+e.target.dataset.percent,s=o*+e.target.getAttribute("data-current-price"),i=(s-s*n/100).toFixed(0);r.value=i}}))}))}te(Y,!0),te(ee);var ae=document.querySelectorAll("[js-btn-password]");ae.length&&ae.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var t=e.currentTarget.closest(".form__group--password").querySelector(".form__control--pass");e.currentTarget.classList.contains("show")?(e.currentTarget.classList.remove("show"),t.setAttribute("type","password")):(e.currentTarget.classList.add("show"),t.setAttribute("type","text"))}))}));var re=document.querySelectorAll("[js-card-choice]");re.length&&re.forEach((function(e){e.addEventListener("click",(function(e){e.currentTarget.closest("div.swiper-wrapper").querySelector("button.cards__item.active").classList.remove("active"),e.currentTarget.classList.add("active")}))}));var oe=document.querySelectorAll("[js-credit-card]");if(oe.length){var ne,se,ie=/^\d{0,16}$/g,ce=function(e){return e.replace(/[^\d]/g,"")},le=function(e,t){return Math.floor(e/(t+1))},de=function(e){var t=e.target;ne=t.value,se=t.selectionEnd},ue=function(e){var t,a=e.target,r=ce(a.value);r.match(ie)?(r=function(e,t,a){for(var r=[],o=0;o<e.length;o++)0!==o&&o%t==0&&r.push(a),r.push(e[o]);return r.join("")}(r,4," "),t=se-le(se,4)+le(se+(r.length-ne.length),4)+(ce(r).length-ce(ne).length),a.value=""!==r?r:""):(a.value=ne,t=se),a.setSelectionRange(t,t),function(e){var t="",a={amex:/^3/,visa:/^4/,mastercard:/^5/,disc:/^6/,genric:/(^1|^2|^7|^8|^9|^0)/};for(var r in a)if(a[r].test(e)){t=r;break}var o=document.querySelector(".cc-types__img--active"),n=document.querySelector(".cc-types__img--".concat(t));o&&o.classList.remove("cc-types__img--active"),n&&n.classList.add("cc-types__img--active")}(a.value)};oe.forEach((function(e){e.addEventListener("keydown",de),e.addEventListener("input",ue)}))}var ve=document.querySelectorAll(".more-body");if(ve.length)for(var me=0;me<ve.length;me++)ve[me].setAttribute("data-number",me);var ge=document.querySelectorAll(".masked");ge.length&&ge.forEach((function(e){Maska.create(e)}));var pe=document.querySelectorAll("[js-form-card]"),fe=document.querySelectorAll("[js-radio-payment]");pe.length&&pe.forEach((function(e){e.addEventListener("click",(function(e){for(var t=0;t<pe.length;t++)pe[t].classList.remove("active"),fe[t].checked=!1;e.currentTarget.classList.add("active"),e.currentTarget.querySelector("[js-radio-payment]").checked=!0,e.currentTarget.closest(".form").querySelector(".form__btn").removeAttribute("disabled")}))}));var ye=document.querySelector(".sign-in-fixed__close");ye&&ye.addEventListener("click",(function(e){e.target.closest(".sign-in-fixed").classList.remove("active")})),document.body.addEventListener("click",(function(e){if(e.target.closest(".select")||($(),X()),ve.length){var t=function(e){for(var t=0;t<ve.length;t++)e!==ve[t].dataset.number&&ve[t].classList.remove("active")},a=e.target.closest("[js-btn-more]:not(.loading)");if(a){var r=a.querySelector(".more-body");console.log(e.target),t(r.dataset.number),r.classList.toggle("active")}a||t()}document.querySelector(".header-auth__user-wrap-main.active")&&!e.target.closest(".header-auth")&&document.querySelector(".header-auth__user-wrap-main.active").classList.remove("active")}))}));